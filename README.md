<h1 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ›¡ï¸ Omnixys Ticket Service â€“ Identity & Security Module</h1>

<p align="center">
  <picture>
    <source media="(prefers-color-scheme: dark)" srcset="public/omnixys-bg-dark.png" />
    <source media="(prefers-color-scheme: light)" srcset="public/omnixys-bg-dark.png" />
    <img src="public/omnixys-bg-dark.png" alt="Omnixys Logo" width="180" />
  </picture>
</p>

<p align="center" style="font-size:16px;">
  <em style="color:#6A4BBC; font-weight:500;">The Fabric of Modular Innovation</em>
</p>

---

<h2 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ“Š Repository Status</h2>

<p align="center" style="font-size:14px; color:#312E81;">
  Continuous Integration, Deployment & Security Overview for the <strong>Omnixys Ticket Service</strong>.
</p>

<!-- CI/CD Status Table -->
<table align="center" style="border-collapse:collapse;">
  <tr>
    <th colspan="2" align="center" style="padding:6px; color:#4E3792;">âš™ï¸ CI / CD Pipeline</th>
  </tr>
  <tr>
    <td align="center" style="padding:4px;">
      <img src="https://github.com/omnixys/omnixys-ticket-service/actions/workflows/ci.yaml/badge.svg" alt="Build Status" />
    </td>
    <td align="center" style="padding:4px;">
      <img src="https://github.com/omnixys/omnixys-ticket-service/actions/workflows/test.yaml/badge.svg" alt="E2E Tests" />
    </td>
  </tr>
  <tr>
    <td align="center" style="padding:4px;">
      <img src="https://github.com/omnixys/omnixys-ticket-service/actions/workflows/security-scan.yaml/badge.svg" alt="Security Audit" />
    </td>
    <td align="center" style="padding:4px;">
      <a href="./.extras/badges/coverage.svg">
        <img src="./.extras/badges/coverage.svg" alt="Test Coverage" />
      </a>
    </td>
  </tr>

   <tr>
    <td align="center" style="padding:4px;">
      <img src="https://github.com/omnixys/omnixys-ticket-service/actions/workflows/release.yaml/badge.svg" alt="Security Audit" />
    </td>
   <td align="center" style="padding:4px;">
      <img src="https://github.com/omnixys/omnixys-ticket-service/actions/workflows/vulnerability-report.yaml/badge.svg" alt="E2E Tests" />
    </td>
  </tr>
    <tr>
      <td align="center" style="padding:4px;">
      <img src="https://github.com/omnixys/omnixys-ticket-service/actions/workflows/docker-build.yaml/badge.svg" alt="Build Status" />
    </td>
     <td align="center" style="padding:4px;">
      <img src="https://github.com/omnixys/omnixys-ticket-service/actions/workflows/deploy.yaml/badge.svg" alt="Build Status" />
    </td>
    </tr>
</table>

<!-- Repository Metrics -->
<table align="center" style="border-collapse:collapse;">
  <tr>
    <th colspan="2" align="center" style="padding:6px; color:#4E3792;">ğŸ“ˆ Repository Metrics</th>
  </tr>
  <tr>
    <td align="center" style="padding:4px;">
      <img src="https://img.shields.io/github/last-commit/omnixys/omnixys-ticket-service?label=Last%20Commit&style=flat-square&color=6A4BBC" alt="Last Commit" />
    </td>
    <td align="center" style="padding:4px;">
      <img src="https://img.shields.io/github/commit-activity/m/omnixys/omnixys-ticket-service?style=flat-square&color=6A4BBC" alt="Commit Activity" />
    </td>
  </tr>
  <tr>
    <td align="center" style="padding:4px;">
      <img src="https://img.shields.io/github/languages/top/omnixys/omnixys-ticket-service?style=flat-square&color=4E3792" alt="Primary Language" />
    </td>
    <td align="center" style="padding:4px;">
      <img src="https://img.shields.io/github/languages/code-size/omnixys/omnixys-ticket-service?style=flat-square&color=4E3792" alt="Code Size" />
    </td>
  </tr>
  <tr>
    <td align="center" style="padding:4px;">
      <img src="https://img.shields.io/github/issues/omnixys/omnixys-ticket-service?style=flat-square&color=A3E635" alt="Issues" />
    </td>
    <td align="center" style="padding:4px;">
      <img src="https://img.shields.io/github/issues-pr/omnixys/omnixys-ticket-service?style=flat-square&color=A3E635" alt="Pull Requests" />
    </td>
  </tr>
  <tr>
    <td align="center" style="padding:4px;">
      <a href="./LICENSE.md">
        <img src="https://img.shields.io/badge/License-GPLv3-4E3792?style=flat-square" alt="License: GPLv3" />
      </a>
    </td>
    <td align="center" style="padding:4px;">
      <a href="./SECURITY.md">
        <img src="https://img.shields.io/badge/Security-Policy-4E3792?style=flat-square" alt="Security Policy" />
      </a>
    </td>
  </tr>
  <tr>
    <td align="center" style="padding:4px;">
      <img src="https://img.shields.io/badge/Node-24.10.0-6A4BBC?style=flat-square" alt="Node Version" />
    </td>
    <td align="center" style="padding:4px;">
      <a href="https://omnixys.com">
        <img src="https://img.shields.io/badge/Made%20with-%E2%9D%A4%20by%20Omnixys-FF69B4?style=flat-square&color=6A4BBC" alt="Made with Love by Omnixys" />
      </a>
    </td>
  </tr>
</table>

---

<h2 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ“– Table of Contents</h2>

<p align="center" style="font-size:14px; color:#312E81;">
  Dual-language navigation for this repository documentation.<br/>
  <strong>English | Deutsch</strong>
</p>

<p align="center" style="font-size:15px;">
  <b>
    <a href="#english-version" style="color:#4E3792; text-decoration:none;">ğŸ‡¬ğŸ‡§ English Version</a> |
    <a href="#deutsche-version" style="color:#4E3792; text-decoration:none;">ğŸ‡©ğŸ‡ª Deutsche Version</a>
  </b>
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead>
    <tr style="color:#4E3792;">
      <th style="padding:6px 12px;">ğŸ‡¬ğŸ‡§ English</th>
      <th style="padding:6px 12px;">ğŸ‡©ğŸ‡ª Deutsch</th>
    </tr>
  </thead>
    <tbody>
    <tr><td align="center"><a href="#overview" style="color:#6A4BBC;">ğŸ” Overview</a></td><td align="center"><a href="#Ã¼bersicht" style="color:#6A4BBC;">ğŸ” Ãœbersicht</a></td></tr>
    <tr><td align="center"><a href="#features" style="color:#6A4BBC;">âœ¨ Features</a></td><td align="center"><a href="#funktionen" style="color:#6A4BBC;">âœ¨ Funktionen</a></td></tr>
    <tr><td align="center"><a href="#tech-stack" style="color:#6A4BBC;">ğŸ§© Tech Stack</a></td><td align="center"><a href="#technologie-stack" style="color:#6A4BBC;">ğŸ§© Technologie-Stack</a></td></tr>
    <tr><td align="center"><a href="#folder-structure" style="color:#6A4BBC;">ğŸ“‚ Folder Structure</a></td><td align="center"><a href="#projektstruktur" style="color:#6A4BBC;">ğŸ“‚ Projektstruktur</a></td></tr>
    <tr><td align="center"><a href="#environment-configuration" style="color:#6A4BBC;">âš™ï¸ Environment Configuration</a></td><td align="center"><a href="#umgebungsvariablen" style="color:#6A4BBC;">âš™ï¸ Umgebungsvariablen</a></td></tr>
    <tr><td align="center"><a href="#setup--installation" style="color:#6A4BBC;">ğŸš€ Setup & Installation</a></td><td align="center"><a href="#installation--setup" style="color:#6A4BBC;">ğŸš€ Installation & Setup</a></td></tr>
    <tr><td align="center"><a href="#running-the-server" style="color:#6A4BBC;">ğŸƒ Running the Server</a></td><td align="center"><a href="#server-starten" style="color:#6A4BBC;">ğŸƒ Server Starten</a></td></tr>
    <tr><td align="center"><a href="#graphql-example" style="color:#6A4BBC;">ğŸ§  GraphQL Example</a></td><td align="center"><a href="#graphql-beispiel" style="color:#6A4BBC;">ğŸ§  GraphQL Beispiel</a></td></tr>
    <tr><td align="center"><a href="#troubleshooting" style="color:#6A4BBC;">ğŸ› ï¸ Troubleshooting</a></td><td align="center"><a href="#fehlerbehebung" style="color:#6A4BBC;">ğŸ› ï¸ Fehlerbehebung</a></td></tr>
    <tr><td align="center"><a href="#development-commands" style="color:#6A4BBC;">ğŸ§° Development Commands</a></td><td align="center"><a href="#entwicklungsbefehle" style="color:#6A4BBC;">ğŸ§° Entwicklungsbefehle</a></td></tr>
    <tr><td align="center"><a href="#community--feedback" style="color:#6A4BBC;">ğŸ’¬ Community & Feedback</a></td><td align="center"><a href="#community--feedback" style="color:#6A4BBC;">ğŸ’¬ Beitragsrichtlinien</a></td></tr>
    <tr><td align="center"><a href="#contributing-guidelines" style="color:#6A4BBC;">ğŸ§­ Contribution Guidelines</a></td><td align="center"><a href="#mitwirkungsrichtlinien" style="color:#6A4BBC;">ğŸ§­ Mitwirkungsrichtlinien</a></td></tr>
    <tr><td align="center"><a href="#contributing" style="color:#6A4BBC;">ğŸ¤ Contributing</a></td><td align="center"><a href="#mitwirken" style="color:#6A4BBC;">ğŸ¤ Mitwirken</a></td></tr>
    <tr><td align="center"><a href="#license--contact" style="color:#6A4BBC;">ğŸ§¾ License & Contact</a></td><td align="center"><a href="#lizenz--kontakt" style="color:#6A4BBC;">ğŸ§¾ Lizenz & Kontakt</a></td></tr>
  </tbody>
</table>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Navigate effortlessly between languages â€” designed for clarity and consistency in every Omnixys repository.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h2 id="english-version" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ‡¬ğŸ‡§ English Version</h2>

<h3 id="overview" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ” Overview</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Overview of the purpose and core functionality of the <strong>Omnixys Ticket Service</strong>.
</p>

<p>
  The <strong>Omnixys Ticket Service</strong> is a secure and modular identity management microservice
  that provides <strong>ticket</strong>, <strong>authorization</strong>, and
  <strong>token lifecycle control</strong> across the Omnixys ecosystem.
</p>

<p>
  Built with <strong>NestJS</strong> and tightly integrated with
  <strong>Keycloak</strong>, <strong>Kafka</strong>, <strong>Redis</strong>,
  and <strong>Apollo Federation</strong>, this service ensures:
</p>

<ul>
  <li>Centralized ticket identity and access control (AuthN & AuthZ)</li>
  <li>Distributed token validation between microservices</li>
  <li>Federated ticket through standardized JWT exchange</li>
  <li>Real-time propagation of identity events via Kafka topics</li>
</ul>

<blockquote>
  <strong>Omnixys â€“ The Fabric of Modular Innovation</strong>
</blockquote>

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Securing connectivity between microservices with precision and scalability.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="features" align="center" style="color:#6A4BBC; font-weight:600;">âœ¨ Features</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Experience a high-performance, modular, and security-focused architecture â€” fully aligned with Omnixys design principles:
</p>

<ul>
  <li>ğŸ”‘ <strong>Keycloak-based ticket management</strong> (OAuth 2.0 / OpenID Connect)</li>
  <li>ğŸ§© <strong>Apollo GraphQL Federation v4</strong> integration for distributed schemas</li>
  <li>âš™ï¸ <strong>Kafka Ticket Dispatcher</strong> for identity-driven ticket propagation</li>
  <li>ğŸ’¾ <strong>Redis-backed caching &amp; token store</strong> for ultra-fast access</li>
  <li>ğŸ“¦ <strong>NestJS modular design</strong> with scalable dependency injection</li>
  <li>ğŸ§  <strong>Type-safe core</strong> powered by TypeScript 5 +</li>
  <li>ğŸ§¾ <strong>Structured JSON logging</strong> using Pino (per Omnixys Logging Guidelines)</li>
  <li>ğŸ³ <strong>Container-ready</strong> deployment with Docker &amp; Docker Compose</li>
</ul>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Engineered for performance, resilience, and observability across every Omnixys microservice.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="tech-stack" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§© Tech Stack</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  A modern, scalable foundation built to integrate seamlessly with the Omnixys ecosystem.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr style="color:#4E3792;">
      <th style="padding:6px 12px;">Layer</th>
      <th style="padding:6px 12px;">Technology</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ğŸ§  Runtime</td><td><strong>Node.js 22+</strong></td></tr>
    <tr><td>âš™ï¸ Framework</td><td><strong>NestJS 11</strong></td></tr>
    <tr><td>ğŸ” Ticket</td><td><strong>Keycloak 25+</strong></td></tr>
    <tr><td>ğŸ”„ Message Broker</td><td><strong>KafkaJS</strong></td></tr>
    <tr><td>ğŸ’¾ Cache / Session</td><td><strong>Redis</strong></td></tr>
    <tr><td>ğŸ§© API Layer</td><td><strong>Apollo Federation (GraphQL)</strong></td></tr>
    <tr><td>ğŸ§¾ Logger</td><td><strong>Pino</strong> (structured JSON per <a href=\"./logging-guidelines.md\" style=\"color:#6A4BBC; text-decoration:none;\">Logging Guidelines</a>)</td></tr>
    <tr><td>ğŸ“¦ Package Manager</td><td><strong>pnpm</strong></td></tr>
    <tr><td>ğŸ³ Containerization</td><td><strong>Docker</strong></td></tr>
  </tbody>
</table>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Every Omnixys service follows the same modular pattern â€“ ensuring observability, performance, and security consistency.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="folder-structure" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ“‚ Folder Structure</h3>

A clear and modular repository layout, following the **Omnixys Microservice Architecture Standard**.  
Each directory aligns with CI/CD, observability, and security conventions defined in the Omnixys Branding & Engineering Kit.

```text
ticket/
â”œâ”€â”€ .github/                                        # GitHub configuration and automation
â”‚   â”œâ”€â”€ workflows/                                  # CI/CD & security pipelines
â”‚   â”‚   â”œâ”€â”€ test.yml                                # ğŸ§ª E2E Ticket Tests (Keycloak, Redis, Kafka, Postgres)
â”‚   â”‚   â”œâ”€â”€ ci-cd.yml                               # Build & deploy pipeline
â”‚   â”‚   â”œâ”€â”€ codeql.yml                              # CodeQL security scanning
â”‚   â”‚   â”œâ”€â”€ security.yml                            # Dependency vulnerability checks
â”‚   â”‚   â””â”€â”€ release.yml                             # Automated versioning & release tagging
â”‚   â”‚
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/                             # Structured GitHub issue templates
â”‚   â”‚   â”œâ”€â”€ auth_bug_report.yml
â”‚   â”‚   â”œâ”€â”€ auth_feature_request.yml
â”‚   â”‚   â”œâ”€â”€ auth_security_vulnerability.yml
â”‚   â”‚   â””â”€â”€ task.yml
â”‚   â”‚
â”‚   â”œâ”€â”€ DISCUSSION_TEMPLATE/                         # GitHub Discussions templates
â”‚   â”‚   â”œâ”€â”€ auth_question.yml
â”‚   â”‚   â”œâ”€â”€ auth_idea.yml
â”‚   â”‚   â””â”€â”€ auth_implementation.yml
â”‚   â”‚
â”‚   â”œâ”€â”€ CODEOWNERS                                   # Maintainer ownership
â”‚   â”œâ”€â”€ CODE_OF_CONDUCT.md                           # Contributor behavior guidelines
â”‚   â”œâ”€â”€ CONTRIBUTING.md                              # Contribution setup & pull request rules
â”‚   â”œâ”€â”€ SECURITY.md                                  # Responsible disclosure policy
â”‚   â”œâ”€â”€ LICENSE                                      # GPL-3.0-or-later license file
â”‚   â””â”€â”€ dependabot.yml                               # Automated dependency update rules
â”‚
â”œâ”€â”€ __tests__/                                       # Automated test suite
â”‚   â”œâ”€â”€ e2e/                                         # End-to-End test layer
â”‚   â”‚   â”œâ”€â”€ ticket/
â”‚   â”‚   â”‚   â”œâ”€â”€ ticket.login.e2e-spec.ts     # Login / Refresh / Logout
â”‚   â”‚   â”‚   â”œâ”€â”€ ticket.signup.e2e-spec.ts    # Ticket & Admin registration (SignUp flow)
â”‚   â”‚   â”‚   â”œâ”€â”€ ticket.ticket.e2e-spec.ts      # Me / Update profile / Change password / Send mail
â”‚   â”‚   â”‚   â””â”€â”€ ticket.admin.e2e-spec.ts     # Admin operations (roles, update, delete)
â”‚   â”‚   â”œâ”€â”€ graphql-client.ts                        # Request helper (cookies, retries)
â”‚   â”‚   â”œâ”€â”€ setup-e2e.ts                             # Bootstraps Nest test app with real Keycloak
â”‚   â”‚   â”œâ”€â”€ jest-e2e.json                            # Jest configuration for E2E tests
â”‚   â”‚   â””â”€â”€ tsconfig.spec.json                       # TypeScript config for test compilation
â”‚   â”‚
â”‚   â””â”€â”€ keycloak/
â”‚       â”œâ”€â”€ ci.env                                   # Keycloak credentials used in CI runs
â”‚       â””â”€â”€ realm.json                               # Imported test realm for CI Keycloak instance
â”‚
â”œâ”€â”€ src/                                             # NestJS source code
â”‚   â”œâ”€â”€ admin/                                       # Admin module (shutdown, restart, maintenance)
â”‚   â”œâ”€â”€ ticket/                              # Ticket & Keycloak integration layer
â”‚   â”œâ”€â”€ config/                                      # Environment & system configuration
â”‚   â”œâ”€â”€ handlers/                                    # Kafka ticket & domain logic handlers
â”‚   â”œâ”€â”€ health/                                      # Liveness & readiness probes
â”‚   â”œâ”€â”€ logger/                                      # Pino logger setup & response interceptors
â”‚   â”œâ”€â”€ messaging/                                   # KafkaJS producer / consumer abstraction
â”‚   â”œâ”€â”€ redis/                                       # Redis client, cache & pub/sub
â”‚   â”œâ”€â”€ security/                                    # HTTP headers, CORS & helmet middleware
â”‚   â”œâ”€â”€ trace/                                       # Tempo tracing / OpenTelemetry integration
â”‚   â”œâ”€â”€ app.module.ts                                # Root NestJS application module
â”‚   â””â”€â”€ main.ts                                      # Application bootstrap entrypoint
â”‚
â”œâ”€â”€ public/                                          # Static assets
â”‚   â”œâ”€â”€ favicon/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ logo.png
â”‚   â””â”€â”€ theme.css
â”‚
â”œâ”€â”€ log/                                             # Runtime log output
â”‚   â””â”€â”€ server.log
â”‚
â”œâ”€â”€ .env                                             # Main environment configuration
â”œâ”€â”€ .env.example                                     # Example environment for developers
â”œâ”€â”€ .health.env                                      # Health probe endpoints (Keycloak, Tempo)
â”‚
â”œâ”€â”€ Dockerfile                                       # Production Docker image
â”œâ”€â”€ docker-bake.hcl                                  # Multi-stage build setup for Docker Bake
â”‚
â”œâ”€â”€ eslint.config.mjs                                # ESLint configuration (TypeScript + Prettier)
â”œâ”€â”€ nest-cli.json                                    # NestJS CLI settings
â”œâ”€â”€ package.json                                     # Project metadata & scripts
â”œâ”€â”€ pnpm-lock.yaml                                   # pnpm dependency lockfile
â”œâ”€â”€ pnpm-workspace.yaml                              # Monorepo workspace setup
â”œâ”€â”€ tsconfig.json                                    # Root TypeScript configuration
â”œâ”€â”€ tsconfig.build.json                              # Build-only TypeScript config
â”œâ”€â”€ typedoc.cjs                                      # TypeDoc configuration for API docs
â””â”€â”€ README.md                                        # Main project documentation

```

<p align="center" style="font-size:14px; color:#312E81;"> <em>Designed for traceability, modularity, and security â€” every Omnixys service follows this structure for consistent observability and automation.</em> </p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="environment-configuration" align="center" style="color:#6A4BBC; font-weight:600;">âš™ï¸ Environment Configuration</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  The <strong>Omnixys Ticket Service</strong> relies on a structured set of environment variables to define its
  <strong>runtime behavior</strong>, <strong>security integration</strong>, and <strong>observability parameters</strong>.
</p>

<p>
All configuration values can be supplied through:
</p>

<ul>
  <li>a local <code>.env</code> file for development,</li>
  <li><strong>Docker Compose</strong> or <strong>Kubernetes Secrets</strong> for containerized deployments, or</li>
  <li><strong>CI/CD environments</strong> such as <strong>GitHub Actions</strong>.</li>
</ul>

<p>
Environment variables follow the
<a href="./port-konvention.md" style="color:#6A4BBC; text-decoration:none;">Omnixys Configuration Convention</a>
to maintain consistency across all microservices.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Configuration consistency enables automated deployments and secure interoperability between Omnixys microservices.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§© Core Application Settings</h4>

<p align="center" style="font-size:14px; color:#312E81;">
  Environment variables that define the <strong>runtime configuration</strong> and <strong>operational behavior</strong> of the Ticket Service.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr><th style="padding:6px 12px;">Variable</th><th style="padding:6px 12px;">Description</th><th style="padding:6px 12px;">Default</th></tr>
  </thead>
  <tbody>
    <tr><td><code>SERVICE</code></td><td>Logical name of the microservice</td><td><code>ticket</code></td></tr>
    <tr><td><code>PORT</code></td><td>Port on which the NestJS service listens</td><td><code>7501</code></td></tr>
    <tr><td><code>GRAPHQL_PLAYGROUND</code></td><td>Enables GraphQL Playground for development</td><td><code>true</code></td></tr>
    <tr><td><code>KEYS_PATH</code></td><td>Relative path to SSL/TLS key and certificate files</td><td><code>../../keys</code></td></tr>
    <tr><td><code>NODE_ENV</code></td><td>Execution mode (<code>development</code>, <code>production</code>, <code>test</code>)</td><td><code>development</code></td></tr>
    <tr><td><code>HTTPS</code></td><td>Enables HTTPS (<code>true</code> / <code>false</code>)</td><td><code>false</code></td></tr>
    <tr><td><code>KAFKA_BROKER</code></td><td>Kafka broker address (<code>host:port</code>)</td><td><code>localhost:9092</code></td></tr>
  </tbody>
</table>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§ª Test Credentials</h4>

<p align="center" style="font-size:14px; color:#312E81;">
  Used exclusively for <strong>local E2E</strong> and <strong>integration testing</strong>.<br/>
  âš ï¸ Never use these credentials in production â€” inject real secrets via CI/CD or Kubernetes Secrets.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr><th>Variable</th><th>Description</th><th>Default</th></tr>
  </thead>
  <tbody>
    <tr><td><code>OMNIXYS_ADMIN_USERNAME</code></td><td>Administrator username</td><td><code>admin</code></td></tr>
    <tr><td><code>OMNIXYS_ADMIN_PASSWORD</code></td><td>Administrator password</td><td><code>change-me</code></td></tr>
    <tr><td><code>OMNIXYS_USER_USERNAME</code></td><td>Standard ticket username</td><td><code>ticket</code></td></tr>
    <tr><td><code>OMNIXYS_USER_PASSWORD</code></td><td>Standard ticket password</td><td><code>change-me</code></td></tr>
    <tr><td><code>OMNIXYS_EMAIL_DOMAIN</code></td><td>Default email domain for test users</td><td><code>omnixys.com</code></td></tr>
  </tbody>
</table>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸªµ Logging Configuration</h4>

<p align="center" style="font-size:14px; color:#312E81;">
  Follows the <a href="./logging-guidelines.md" style="color:#6A4BBC; text-decoration:none;">Omnixys Logging Guidelines</a>.<br/>
  Provides structured JSON logs for observability and compliance with Grafana Loki &amp; Prometheus.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr><th>Variable</th><th>Description</th><th>Default</th></tr>
  </thead>
  <tbody>
    <tr><td><code>LOG_LEVEL</code></td><td>Minimum log level (<code>debug</code>, <code>info</code>, <code>warn</code>, etc.)</td><td><code>debug</code></td></tr>
    <tr><td><code>LOG_PRETTY</code></td><td>Pretty-print logs for readability (dev only)</td><td><code>true</code></td></tr>
    <tr><td><code>LOG_DEFAULT</code></td><td>Enables NestJS default logger output</td><td><code>false</code></td></tr>
    <tr><td><code>LOG_DIRECTORY</code></td><td>Folder for file-based logs</td><td><code>log</code></td></tr>
    <tr><td><code>LOG_FILE_DEFAULT_NAME</code></td><td>Default filename for generated logs</td><td><code>server.log</code></td></tr>
  </tbody>
</table>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ” Keycloak Configuration</h4>

<p align="center" style="font-size:14px; color:#312E81;">
  Connection parameters for the integrated <strong>Keycloak Identity Provider</strong> â€“ required for ticket, authorization, and token issuance.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr><th>Variable</th><th>Description</th><th>Default</th></tr>
  </thead>
  <tbody>
    <tr><td><code>KC_URL</code></td><td>Base URL of the Keycloak instance</td><td><code>http://localhost:18080/auth</code></td></tr>
    <tr><td><code>KC_REALM</code></td><td>Keycloak realm name</td><td><code>camunda-platform</code></td></tr>
    <tr><td><code>KC_CLIENT_ID</code></td><td>Registered Keycloak client ID</td><td><code>camunda-identity</code></td></tr>
    <tr><td><code>KC_CLIENT_SECRET</code></td><td>Secret for the configured Keycloak client</td><td><em>none</em></td></tr>
    <tr><td><code>KC_ADMIN_USERNAME</code></td><td>Keycloak admin username</td><td><code>admin</code></td></tr>
    <tr><td><code>KC_ADMIN_PASS</code></td><td>Keycloak admin password</td><td><code>change-me</code></td></tr>
  </tbody>
</table>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ’¾ Redis Configuration</h4>

<p align="center" style="font-size:14px; color:#312E81;">
  Defines the <strong>in-memory data store</strong> used for token caching, rate limiting, and session management.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr><th>Variable</th><th>Description</th><th>Default</th></tr>
  </thead>
  <tbody>
    <tr><td><code>REDIS_HOST</code></td><td>Redis hostname</td><td><code>127.0.0.1</code></td></tr>
    <tr><td><code>REDIS_PORT</code></td><td>Redis port</td><td><code>6379</code></td></tr>
    <tr><td><code>REDIS_USERNAME</code></td><td>Redis username (optional)</td><td><em>empty</em></td></tr>
    <tr><td><code>REDIS_PASSWORD</code></td><td>Redis password (optional)</td><td><em>empty</em></td></tr>
    <tr><td><code>REDIS_URL</code></td><td>Full Redis connection URI</td><td><code>redis://:${REDIS_PASSWORD}@localhost:6379</code></td></tr>
    <tr><td><code>REDIS_PC_JWE_KEY</code></td><td>Encryption key used for token caching (Base64)</td><td><code>your-jwe-key</code></td></tr>
    <tr><td><code>REDIS_PC_TTL_SEC</code></td><td>Token cache time-to-live (seconds)</td><td><code>2592000</code> (30 days)</td></tr>
  </tbody>
</table>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ›°ï¸ Tracing & Observability</h4>

<p align="center" style="font-size:14px; color:#312E81;">
  Observability and distributed tracing configuration using <strong>Tempo</strong> and <strong>OpenTelemetry</strong>.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr><th>Variable</th><th>Description</th><th>Default</th></tr>
  </thead>
  <tbody>
    <tr><td><code>TEMPO_URI</code></td><td>Tempo tracing collector endpoint</td><td><code>http://localhost:4318/v1/traces</code></td></tr>
  </tbody>
</table>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">â¬†ï¸ Back to Top</a>
</p>

<h3 id="health-check-endpoints" align="center" style="color:#6A4BBC; font-weight:600;">â¤ï¸ Health Check Endpoints</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Used by <strong>Prometheus</strong>, <strong>Kubernetes probes</strong>, and <strong>CI/CD monitors</strong> to verify system health and service availability.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr><th>Variable</th><th>Description</th><th>Default</th></tr>
  </thead>
  <tbody>
    <tr><td><code>KEYCLOAK_HEALTH_URL</code></td><td>Keycloak service health endpoint</td><td><code>http://localhost:18080/auth</code></td></tr>
    <tr><td><code>TEMPO_HEALTH_URL</code></td><td>Tempo tracing health metrics endpoint</td><td><code>http://localhost:3200/metrics</code></td></tr>
    <tr><td><code>PROMETHEUS_HEALTH_URL</code></td><td>Prometheus metrics target endpoint</td><td><code>http://localhost:9090/-/healthy</code></td></tr>
  </tbody>
</table>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Unified configuration ensures consistent deployment, traceability, and monitoring across the Omnixys service landscape.</em>
</p>

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="setup--installation" align="center" style="color:#6A4BBC; font-weight:600;">ğŸš€ Setup & Installation</h3>

Follow these steps to set up the <strong>Omnixys Ticket Service</strong> locally or in a containerized environment.

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§© Local Development Setup</h4>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># 1ï¸âƒ£ Clone the repository
git clone https://github.com/omnixys/omnixys-ticket-service.git
cd omnixys-ticket-service

# 2ï¸âƒ£ Copy environment template
cp .env.example .env

# 3ï¸âƒ£ Install dependencies via pnpm
pnpm install
</code></pre>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§± Building with Docker Bake (multi-stage)</h4>

This service supports <strong>multi-architecture</strong> and <strong>multi-stage builds</strong> through <code>docker-bake.hcl</code>.

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># Build the service image using Buildx Bake
docker buildx bake -f docker-bake.hcl

# Build and push to registry (example)
docker buildx bake -f docker-bake.hcl --push
</code></pre>

> ğŸ§© <strong>Note:</strong> The <code>docker-bake.hcl</code> file defines consistent targets (<code>builder</code>, <code>runtime</code>, <code>production</code>)
> for both local and CI/CD pipelines.
> Refer to your <code>.github/workflows/ci-cd.yml</code> for automated image publishing.

> ğŸ§  <strong>Tip:</strong> Use <code>.env.example</code> as a reference â€” all environment variables are explained in the
> <a href="#-environment-configuration" style="color:#6A4BBC;">âš™ï¸ Environment Configuration</a> section.

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ” Initial Keycloak Configuration (first run only)</h4>

<p style="font-size:14px; color:#312E81;">
  When starting <strong>Keycloak</strong> for the first time inside Docker, HTTPS enforcement must be disabled manually.
  This only needs to be done once per environment.
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">1ï¸âƒ£ Open a bash shell inside Keycloak</h5>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>docker exec -it keycloak bash</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">2ï¸âƒ£ Log in as admin</h5>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>/opt/bitnami/keycloak/bin/kcadm.sh config credentials \
  --server http://localhost:18080/auth \
  --realm master \
  --ticket admin \
  --password admin \
  --config /tmp/kcadm.config</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">3ï¸âƒ£ Update the realm configuration</h5>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>/opt/bitnami/keycloak/bin/kcadm.sh update realms/master \
  -s sslRequired=none \
  --config /tmp/kcadm.config</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">4ï¸âƒ£ Exit and restart Keycloak</h5>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>exit
docker restart keycloak</code></pre>

<p style="font-size:14px; color:#312E81;">
  âœ… After this step, Keycloak will accept connections from other local containers (e.g., Camunda or Apollo Gateway) without requiring HTTPS.
</p>

---

<h4 style="color:#6A4BBC; margin-bottom:6px;">ğŸ§­ Keycloak Web Configuration (first login setup)</h4>

<p style="font-size:14px; color:#312E81;">
  Once Keycloak is running, complete the initial setup through the web interface:
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">1ï¸âƒ£ Access the Keycloak Admin Console</h5>
<p style="font-size:14px; color:#312E81; margin-bottom:6px;">
  Open your browser and navigate to:<br/>
  ğŸ‘‰ <a href="http://localhost:18080/auth" style="color:#6A4BBC; text-decoration:none;">http://localhost:18080/auth</a><br/><br/>
  Log in using:
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>Username: admin
Password: admin</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">2ï¸âƒ£ Open the â€œcamunda-platformâ€ realm</h5>
<p style="font-size:14px; color:#312E81;">
  In the left sidebar, select <strong>Realm Selector â–¸ camunda-platform</strong>.
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">3ï¸âƒ£ Create a Realm Role â€œADMINâ€</h5>
<p style="font-size:14px; color:#312E81;">
  In the left sidebar, go to <strong>Realm Roles</strong> â†’ click <strong>Add Role</strong>.<br/>
  Create a role named:
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>ADMIN</code></pre>

<p style="font-size:14px; color:#312E81;">
  âœ… Optional: You may also create additional roles (e.g., <code>USER</code>, <code>MANAGER</code>, <code>SECURITY</code>) â€” 
  these are the roles that the Ticket Service uses for access control.
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">4ï¸âƒ£ Create an Admin Ticket</h5>
<p style="font-size:14px; color:#312E81;">
  Go to <strong>Users</strong> â†’ <strong>Add Ticket</strong> and fill in the following fields:
</p>

<ul style="color:#312E81; font-size:14px;">
  <li><strong>Username:</strong> e.g. <code>admin</code></li>
  <li><strong>Email:</strong> e.g. <code>admin@omnixys.local</code></li>
  <li><strong>First Name / Last Name:</strong> any descriptive values</li>
</ul>

<h5 style="color:#6A4BBC; margin-bottom:4px;">5ï¸âƒ£ Set Ticket Credentials</h5>
<p style="font-size:14px; color:#312E81;">
  Under the <strong>Credentials</strong> tab:
</p>

<ul style="color:#312E81; font-size:14px;">
  <li>Set a password (e.g. <code>admin</code>)</li>
  <li>Disable <strong>Temporary</strong> (set to <code>false</code>)</li>
  <li>Click <strong>Set Password</strong></li>
</ul>

<h5 style="color:#6A4BBC; margin-bottom:4px;">6ï¸âƒ£ Assign Roles to the Admin Ticket</h5>
<p style="font-size:14px; color:#312E81;">
  Open the <strong>Role Mappings</strong> tab:
</p>

<ul style="color:#312E81; font-size:14px;">
  <li>Under <strong>Realm Roles</strong>, assign the role <code>ADMIN</code>.</li>
  <li>Under <strong>Client Roles</strong> â†’ select <code>realm-management</code> â†’ assign <code>manage-users</code>.</li>
</ul>

<h5 style="color:#6A4BBC; margin-bottom:4px;">7ï¸âƒ£ Save & Verify</h5>
<p style="font-size:14px; color:#312E81;">
  Ensure your ticket now appears with both roles assigned.<br/>
  This admin account will be used by the <strong>Omnixys Ticket Service</strong> during initialization and token management.
</p>

---

<p style="font-size:14px; color:#312E81;">
  âœ… After completing these steps, Keycloak is fully prepared for integration with the Ticket Service, Camunda, and other Omnixys modules.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Quick, consistent, and reproducible setup â€” aligned with the Omnixys development lifecycle.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="running-the-server" align="center" style="color:#6A4BBC; font-weight:600;">ğŸƒ Running the Server</h3>

Run the <strong>Omnixys Ticket Service</strong> in either development or production mode.

<h4 align="center" style="color:#6A4BBC; font-weight:600;">âš™ï¸ Start the Core Infrastructure</h4>

<p style="font-size:14px; color:#312E81;">
  Before starting the NestJS service itself, the required <strong>Omnixys core infrastructure</strong>
  (PostgreSQL, Keycloak, Camunda, Kafka, Tempo, and Prometheus) must be running.<br/>
  These components provide the essential backend services for ticket, orchestration, monitoring, and ticket streaming.
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># Navigate to the Docker environment folder
cd .extras/docker

# Start the Omnixys core infrastructure
docker compose -f backend.yaml up -d

# To stop and remove the containers
docker compose -f backend.yaml down -v
</code></pre>

<p style="font-size:14px; color:#312E81;">
  ğŸ—‚ï¸ All persistent data (databases, Kafka logs, etc.) is stored under
  <code>.extras/volumes</code>.<br/>
  You can safely remove this folder to reset the environment completely.
</p>

---

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§© Development Mode</h4>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># Start NestJS in watch mode
pnpm run start:dev</code></pre>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ­ Production Mode</h4>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># Build and start production server
pnpm run build
pnpm run start:prod</code></pre>

---

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ³ 3. Docker Setup (recommended for testing)</h4>

<p style="font-size:14px; color:#312E81;">
  When using the full Docker setup, first navigate into the <code>.extras/docker</code> directory.
  The file <code>backend.yaml</code> already defines the shared network
  <code>omnixys-network</code> used by <code>compose.yaml</code>.<br/>
  Therefore, ensure that the section
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>networks:
  omnixys-network:
    driver: bridge
</code></pre>

<p style="font-size:14px; color:#312E81;">
  is <strong>commented out</strong> in <code>backend.yaml</code> before running the combined setup.
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># From .extras/docker
docker compose up -d

# To stop and remove all containers
docker compose down -v
</code></pre>

<p style="font-size:14px; color:#312E81;">
  Once running, the GraphQL Playground is available at:<br/>
  ğŸ‘‰ <a href="http://localhost:7501/graphql" style="color:#6A4BBC; text-decoration:none;">http://localhost:7501/graphql</a>
</p>

---

<h4 align="center" style="color:#6A4BBC; font-weight:600;">âš™ï¸ Kafka Host Configuration</h4>

<p style="font-size:14px; color:#312E81;">
  The <strong>Kafka advertised hostname</strong> depends on where the Ticket Service is running.<br/>
  Update the variable in <code>.extras/docker/kafka/.env</code> accordingly:
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">ğŸ§  Local execution (outside Docker)</h5>
<p style="font-size:14px; color:#312E81; margin-bottom:6px;">
  When running with <code>pnpm run start</code> or <code>pnpm run start:dev</code> on your host machine, or executing tests with <code>pnpm run test</code>:
</p>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>KAFKA_ADVERTISED_HOST_NAME=localhost</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">ğŸ³ Running inside Docker Network</h5>
<p style="font-size:14px; color:#312E81; margin-bottom:6px;">
  When running via <code>docker compose up -d</code> inside the container network:
</p>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>KAFKA_ADVERTISED_HOST_NAME=kafka</code></pre>

<p style="font-size:14px; color:#312E81;">
  ğŸ”„ Always ensure the correct value before starting the service â€” otherwise the Kafka connection will fail with
  <code>Request timed out</code> or <code>Connection refused</code> errors.
</p>

---

<p style="font-size:14px; color:#312E81;">
  ğŸ§± Optionally, you can place a <code>certificate.crt</code> and <code>key.pem</code> in
  <code>.extras/keys</code> to enable HTTPS support.<br/>
  The TLS configuration will be integrated in a future update via Traefik-based reverse proxy.
</p>

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Seamless runtime transitions between local and container environments â€” fully aligned with the Omnixys microservice workflow.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="graphql-example" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§  GraphQL Example</h3>

Example GraphQL mutation for ticket using the **Omnixys Ticket Service**:

```graphql
mutation Login {
  login(input: { username: "admin", password: "p" }) {
    accessToken
    refreshToken
    expiresIn
  }
}
```

> ğŸ’¡ **Tip:** Replace `username` and `password` with your test credentials defined in the `.env` file.
> The service exposes all GraphQL operations through the unified Apollo Federation schema.

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Authenticate, authorize, and manage identities via GraphQL â€” the Omnixys way.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="troubleshooting" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ› ï¸ Troubleshooting</h3>

<p align="center">
  Common issues and solutions when running or developing the <strong>Omnixys Ticket Service</strong>.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr>
      <th style="padding:6px 12px;">Problem</th>
      <th style="padding:6px 12px;">Solution</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ğŸ”´ <strong>Keycloak not reachable</strong></td>
      <td>Ensure <code>docker compose up</code> has started all containers and that port <code>18080</code> is open and not blocked by another process.</td>
    </tr>
    <tr>
      <td>âš™ï¸ <strong>.env not loaded</strong></td>
      <td>Add <code>import dotenv from 'dotenv'; dotenv.config();</code> at the top of <code>env.ts</code> or ensure the <code>.env</code> file is present in the root directory.</td>
    </tr>
    <tr>
      <td>ğŸ§© <strong>Input object returns {}</strong></td>
      <td>Add class-validator decorators such as <code>@IsString()</code> and <code>@IsNotEmpty()</code> to your GraphQL <code>@InputType()</code> definitions.</td>
    </tr>
    <tr>
      <td>ğŸ§¹ <strong>.tsbuildinfo created / stale cache</strong></td>
      <td>Clean build artifacts with <code>pnpm build</code> or remove the file manually: <code>rm -f tsconfig.build.tsbuildinfo && nest start --watch</code>.</td>
    </tr>
  </tbody>
</table>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Resolve issues quickly and consistently â€” every fix keeps the Omnixys ecosystem reliable and secure.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="development-commands" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§° Development Commands</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Useful commands for development, testing, and maintaining code quality within the <strong>Omnixys Ticket Service</strong>.
</p>

```bash
# ğŸ” Run linter to check for code style and errors
pnpm run lint

# ğŸ§¹ Format source code using Prettier
pnpm run format

# ğŸ§ª Execute all Jest unit tests
pnpm run test
```

ğŸ§© <strong>Tip:</strong> Run <code>pnpm run format && pnpm run lint</code> before every commit to maintain Omnixys-wide code consistency.

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Unified development workflows ensure consistent code quality across all Omnixys microservices.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="community--feedback" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ’¬ Community & Feedback</h3>

<p align="center">
  Join the <strong>Omnixys Developer Community</strong> to share ideas, collaborate, and get support for the <strong>Ticket Service</strong>.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792;">
    <tr>
      <th style="padding:6px 12px;">Purpose</th>
      <th style="padding:6px 12px;">How to Participate</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ğŸ’¡ <strong>Propose a Feature</strong></td><td><a href="https://github.com/omnixys/omnixys-ticket-service/discussions/new?category=ideas--suggestions" style="color:#6A4BBC;">Start a Feature Discussion</a></td></tr>
    <tr><td>ğŸ§ª <strong>Discuss Implementation Details</strong></td><td><a href="https://github.com/omnixys/omnixys-ticket-service/discussions/new?category=implementation-details" style="color:#6A4BBC;">Join an Architecture Thread</a></td></tr>
    <tr><td>â“ <strong>Ask a Question or Get Support</strong></td><td><a href="https://github.com/omnixys/omnixys-ticket-service/discussions/new?category=questions--support" style="color:#6A4BBC;">Open a Question</a></td></tr>
    <tr><td>ğŸ§µ <strong>General Feedback / Meta</strong></td><td><a href="https://github.com/omnixys/omnixys-ticket-service/discussions/new?category=general" style="color:#6A4BBC;">Start a General Discussion</a></td></tr>
    <tr><td>ğŸ› <strong>Report a Bug</strong></td><td><a href="https://github.com/omnixys/omnixys-ticket-service/issues/new?template=auth_bug_report.yml" style="color:#6A4BBC;">Create a Bug Report</a></td></tr>
    <tr><td>ğŸ”’ <strong>Report a Security Issue</strong></td><td><a href="https://github.com/omnixys/omnixys-ticket-service/security/policy" style="color:#6A4BBC;">Submit Security Report</a></td></tr>
    <tr><td>ğŸ†˜ <strong>Need Help with Setup?</strong></td><td><a href="https://github.com/omnixys/omnixys-ticket-service/issues/new?template=auth_support_request.yml" style="color:#6A4BBC;">Use the Support Template</a></td></tr>
  </tbody>
</table>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Together we innovate â€” community collaboration is at the core of Omnixys development.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="contributing-guidelines" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§­ Contribution Guidelines</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Before contributing, please review the following <strong>Omnixys standards</strong> and community policies:
</p>

<ul>
  <li><a href="./.github/CONTRIBUTING.md" style="color:#6A4BBC; text-decoration:none;">CONTRIBUTING.md</a> â€“ Code style, branching strategy, and PR workflow</li>
  <li><a href="./.github/SECURITY.md" style="color:#6A4BBC; text-decoration:none;">SECURITY.md</a> â€“ Responsible vulnerability disclosure process</li>
  <li><a href="./.github/CODE_OF_CONDUCT.md" style="color:#6A4BBC; text-decoration:none;">CODE_OF_CONDUCT.md</a> â€“ Contributor expectations and behavior guidelines</li>
</ul>

<p style="font-size:14px;">
  ğŸ’œ Contributions, feedback, and discussions are encouraged in <strong>English</strong> to ensure inclusivity and consistency across all Omnixys projects.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Every contribution strengthens the Omnixys ecosystem â€” thank you for helping us build modular innovation together.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="contributing" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ¤ Contributing</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Follow these steps to contribute to the <strong>Omnixys Ticket Service</strong>:
</p>

<ol>
  <li><strong>Fork</strong> the repository.</li>
  <li><strong>Create a new branch</strong> for your feature or fix:</li>
</ol>

```bash
git checkout -b feature/my-feature
```

<ol start="3">
  <li><strong>Lint and commit</strong> your changes following Omnixys commit conventions:</li>
</ol>

```bash
pnpm run lint && git commit -m "feat: add feature"
```

<ol start="4">
  <li><strong>Push</strong> your branch and <strong>open a Pull Request</strong> for review.</li>
</ol>

<p style="font-size:14px;">
  ğŸ§  <strong>Tip:</strong> Always synchronize your branch with <code>main</code> before submitting a PR to avoid merge conflicts.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Collaborate transparently, code consistently â€” that's the Omnixys way.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Back to Top
  </a>
</p>

<h3 id="license--contact" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§¾ License & Contact</h3>

<p align="center" style="font-size:14px;">
  Licensed under <strong>GPL-3.0-or-later</strong><br/>
  Â© 2025 <strong>Caleb Gyamfi â€“ Omnixys Technologies</strong><br/>
  ğŸŒ <a href="https://omnixys.com" style="color:#6A4BBC; text-decoration:none;">omnixys.com</a><br/>
  ğŸ“§ <a href="mailto:contact@omnixys.tech" style="color:#6A4BBC; text-decoration:none;">contact@omnixys.tech</a>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h2 id="deutsche-version" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ‡©ğŸ‡ª Deutsche Version</h2>
<p align="center" style="font-size:14px; color:#312E81;">
  <em>Omnixys â€“ Das Fundament modularer Innovation.</em>
</p>

<h3 id="Ã¼bersicht" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ” Ãœbersicht</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Ãœberblick Ã¼ber den Zweck und die Kernfunktionen des <strong>Omnixys Ticket Service</strong>.
</p>

<p>
  Der <strong>Omnixys Ticket Service</strong> ist ein sicherer und modularer IdentitÃ¤ts-Mikroservice,
  der fÃ¼r <strong>Authentifizierung</strong>, <strong>Autorisierung</strong> und
  <strong>Token-Management</strong> im gesamten Omnixys-Ã–kosystem verantwortlich ist.
</p>

<p>
  Er basiert auf <strong>NestJS</strong> und ist eng mit <strong>Keycloak</strong>,
  <strong>Kafka</strong>, <strong>Redis</strong> und <strong>Apollo Federation</strong> integriert, um Folgendes zu gewÃ¤hrleisten:
</p>

<ul>
  <li>Zentrale Verwaltung von BenutzeridentitÃ¤ten und Zugriffsrechten (AuthN &amp; AuthZ)</li>
  <li>Verteilte Token-Validierung zwischen allen Omnixys-Microservices</li>
  <li>FÃ¶derierte Authentifizierung Ã¼ber standardisierte JWT-Austauschverfahren</li>
  <li>EchtzeitÃ¼bertragung von IdentitÃ¤tsereignissen Ã¼ber Kafka-Topics</li>
</ul>

<blockquote>
  <strong>Omnixys â€“ The Fabric of Modular Innovation</strong>
</blockquote>

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Sichere, skalierbare und nachvollziehbare IdentitÃ¤tsverwaltung â€“ entwickelt fÃ¼r das Omnixys-Ã–kosystem.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="funktionen" align="center" style="color:#6A4BBC; font-weight:600;">âœ¨ Funktionen</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Ein hochperformantes, modulares und sicherheitsorientiertes System â€“ vollstÃ¤ndig abgestimmt auf die Designprinzipien von <strong>Omnixys</strong>:
</p>

<ul>
  <li>ğŸ”‘ <strong>Keycloak-basierte Authentifizierung</strong> (OAuth 2.0 / OpenID Connect)</li>
  <li>ğŸ§© <strong>GraphQL Federation v4</strong> fÃ¼r verteilte Schemas und Integrationen</li>
  <li>âš™ï¸ <strong>Kafka Ticket Dispatcher</strong> zur Echtzeit-Ãœbertragung von IdentitÃ¤tsereignissen</li>
  <li>ğŸ’¾ <strong>Redis Cache &amp; Token Store</strong> fÃ¼r schnelle AuthentifizierungsvorgÃ¤nge</li>
  <li>ğŸ“¦ <strong>Modularer Aufbau mit NestJS</strong> fÃ¼r klare Trennung von Logik und Infrastruktur</li>
  <li>ğŸ§  <strong>TypeScript 5+</strong> fÃ¼r maximale Typensicherheit und StabilitÃ¤t</li>
  <li>ğŸ§¾ <strong>Strukturiertes JSON-Logging</strong> mit Pino gemÃ¤ÃŸ den 
    <a href="./logging-guidelines.md" style="color:#6A4BBC; text-decoration:none;">Omnixys Logging Guidelines</a></li>
  <li>ğŸ³ <strong>Docker &amp; Compose-UnterstÃ¼tzung</strong> fÃ¼r konsistente Deployments</li>
</ul>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Entwickelt fÃ¼r Leistung, Sicherheit und Nachvollziehbarkeit â€“ der Omnixys-Standard fÃ¼r Authentifizierung.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="technologie-stack" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§© Technologie-Stack</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  <strong>Hinweis:</strong> Der vollstÃ¤ndige Technologie-Stack befindet sich in der 
  <a href="#-tech-stack" style="color:#6A4BBC; text-decoration:none;">englischen Version</a>.
</p>

<p>
  Der <strong>Omnixys Ticket Service</strong> basiert auf einer modernen, skalierbaren Architektur und setzt auf folgende Technologien:
</p>

<ul>
  <li><strong>NestJS</strong> â€“ Framework</li>
  <li><strong>Node.js 22+</strong> â€“ Runtime</li>
  <li><strong>Keycloak 25+</strong> â€“ Identity &amp; Access Management</li>
  <li><strong>KafkaJS</strong> â€“ Ticket Streaming</li>
  <li><strong>Redis</strong> â€“ Caching &amp; Session Store</li>
  <li><strong>Apollo Federation</strong> â€“ GraphQL API Layer</li>
  <li><strong>Pino</strong> â€“ Strukturiertes Logging</li>
  <li><strong>Docker &amp; Buildx Bake</strong> â€“ Containerization</li>
</ul>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Eine skalierbare und robuste Grundlage â€“ entwickelt fÃ¼r Performance, Sicherheit und Wiederverwendbarkeit im gesamten Omnixys-Ã–kosystem.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="projektstruktur" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ“ Projektstruktur</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  <strong>Hinweis:</strong> Die vollstÃ¤ndige Struktur befindet sich in der 
  <a href="#-folder-structure" style="color:#6A4BBC; text-decoration:none;">englischen Version</a>.
</p>

<p>
  Die Projektstruktur folgt dem <strong>Omnixys Microservice-Standard</strong> und beinhaltet klar getrennte Module, automatisierte CI/CD-Prozesse und definierte Schichten fÃ¼r Tests, Konfiguration und Laufzeitumgebung:
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Eine konsistente und wartbare Architektur â€“ optimiert fÃ¼r Skalierbarkeit, Sicherheit und Klarheit im gesamten Omnixys-Ã–kosystem.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="umgebungsvariablen" align="center" style="color:#6A4BBC; font-weight:600;">âš™ï¸ Umgebungsvariablen</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  <strong>Hinweis:</strong> Eine detaillierte Beschreibung aller Variablen befindet sich in der 
  <a href="#-environment-configuration" style="color:#6A4BBC; text-decoration:none;">englischen Version</a>.
</p>

<p>
  Alle Umgebungsvariablen sind standardisiert und kompatibel mit:
</p>

<ul>
  <li><strong>Docker Compose</strong></li>
  <li><strong>Kubernetes Secrets</strong></li>
  <li><strong>GitHub Actions</strong></li>
  <li><strong>Lokalen <code>.env</code>-Dateien</strong></li>
</ul>

<p>
  Diese Konvention gewÃ¤hrleistet <strong>Konsistenz</strong>, <strong>Sicherheit</strong> und <strong>Wiederverwendbarkeit</strong>
  im gesamten <strong>Omnixys-Ã–kosystem</strong>.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Standardisierte Konfiguration â€“ der SchlÃ¼ssel zu skalierbaren, sicheren und einheitlichen Services in Omnixys.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="installation--setup" align="center" style="color:#6A4BBC; font-weight:600;">ğŸš€ Installation &amp; Setup</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Folge diesen Schritten, um den <strong>Omnixys Ticket Service</strong> lokal oder in einer Container-Umgebung zu installieren.
</p>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§© Lokale Entwicklungsumgebung</h4>

```bash
# 1ï¸âƒ£ Repository klonen
git clone https://github.com/omnixys/omnixys-ticket-service.git
cd omnixys-ticket-service

# 2ï¸âƒ£ Beispiel-Umgebungsdatei kopieren
cp .env.example .env

# 3ï¸âƒ£ AbhÃ¤ngigkeiten installieren
pnpm install
```

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§± Docker Build (Buildx Bake)</h4>

<p>
  Dieses Projekt nutzt <strong>multi-stage</strong> und <strong>multi-arch Builds</strong> Ã¼ber <code>docker-bake.hcl</code>.
</p>

```bash
# Image mit Buildx Bake erstellen
docker buildx bake -f docker-bake.hcl

# Image in Registry pushen (optional)
docker buildx bake -f docker-bake.hcl --push
```

<p>
  ğŸ’¡ <strong>Hinweis:</strong> Die Datei <code>docker-bake.hcl</code> definiert konsistente Targets 
  (<code>builder</code>, <code>runtime</code>, <code>production</code>) fÃ¼r lokale und CI/CD-Pipelines.<br/>
  Weitere Details findest du in der Workflow-Datei <code>.github/workflows/ci-cd.yml</code>.
</p>

<p>
  ğŸ§  <strong>Tipp:</strong> Nutze die <code>.env.example</code> als Referenz â€“ alle Variablen sind im Abschnitt 
  <a href="#-umgebungsvariablen" style="color:#6A4BBC; text-decoration:none;">âš™ï¸ Umgebungsvariablen</a> beschrieben.
</p>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ” Initiale Keycloak-Konfiguration (nur beim ersten Start)</h4>

<p style="font-size:14px; color:#312E81;">
  Beim ersten Start von <strong>Keycloak</strong> innerhalb von Docker muss die HTTPS-Erzwingung manuell deaktiviert werden.
  Dieser Schritt ist nur einmal pro Umgebung erforderlich.
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">1ï¸âƒ£ Bash-Shell im Keycloak-Container Ã¶ffnen</h5>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>docker exec -it keycloak bash</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">2ï¸âƒ£ Als Administrator anmelden</h5>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>/opt/bitnami/keycloak/bin/kcadm.sh config credentials \
  --server http://localhost:18080/auth \
  --realm master \
  --ticket admin \
  --password admin \
  --config /tmp/kcadm.config</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">3ï¸âƒ£ Realm-Konfiguration anpassen</h5>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>/opt/bitnami/keycloak/bin/kcadm.sh update realms/master \
  -s sslRequired=none \
  --config /tmp/kcadm.config</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">4ï¸âƒ£ Beenden und Keycloak neu starten</h5>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>exit
docker restart keycloak</code></pre>

<p style="font-size:14px; color:#312E81;">
  âœ… Nach diesem Schritt akzeptiert Keycloak lokale Verbindungen anderer Container (z.&nbsp;B. Camunda oder Apollo Gateway) ohne HTTPS-Anforderung.
</p>

---

<h4 style="color:#6A4BBC; margin-bottom:6px;">ğŸ§­ Keycloak-Webkonfiguration (Erstanmeldung)</h4>

<p style="font-size:14px; color:#312E81;">
  Nach dem Neustart kann die grundlegende Konfiguration Ã¼ber die WeboberflÃ¤che abgeschlossen werden:
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">1ï¸âƒ£ Zugriff auf die Admin-Konsole</h5>
<p style="font-size:14px; color:#312E81;">
  Ã–ffne im Browser:<br/>
  ğŸ‘‰ <a href="http://localhost:18080/auth" style="color:#6A4BBC; text-decoration:none;">http://localhost:18080/auth</a><br/><br/>
  Melde dich an mit:
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>Benutzername: admin
Passwort: admin</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">2ï¸âƒ£ Realm â€camunda-platformâ€œ Ã¶ffnen</h5>
<p style="font-size:14px; color:#312E81;">
  WÃ¤hle in der linken Seitenleiste den <strong>Realm-Selektor â–¸ camunda-platform</strong>.
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">3ï¸âƒ£ Realm-Rolle â€ADMINâ€œ erstellen</h5>
<p style="font-size:14px; color:#312E81;">
  In der Seitenleiste <strong>Realm Roles</strong> auswÃ¤hlen â†’ <strong>Add Role</strong> klicken â†’ folgende Rolle anlegen:
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>ADMIN</code></pre>

<p style="font-size:14px; color:#312E81;">
  âœ… Optional: Weitere Rollen kÃ¶nnen erstellt werden (z.&nbsp;B. <code>USER</code>, <code>MANAGER</code>, <code>SECURITY</code>).  
  Diese Rollen werden vom Ticket Service fÃ¼r die Zugriffskontrolle verwendet.
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">4ï¸âƒ£ Administrator-Benutzer anlegen</h5>
<p style="font-size:14px; color:#312E81;">
  In der Seitenleiste <strong>Users</strong> Ã¶ffnen â†’ <strong>Add Ticket</strong> auswÃ¤hlen und ausfÃ¼llen:
</p>

<ul style="color:#312E81; font-size:14px;">
  <li><strong>Username:</strong> z.&nbsp;B. <code>admin</code></li>
  <li><strong>Email:</strong> z.&nbsp;B. <code>admin@omnixys.local</code></li>
  <li><strong>First / Last Name:</strong> frei wÃ¤hlbar</li>
</ul>

<h5 style="color:#6A4BBC; margin-bottom:4px;">5ï¸âƒ£ Zugangsdaten festlegen</h5>
<p style="font-size:14px; color:#312E81;">
  Im Tab <strong>Credentials</strong>:
</p>

<ul style="color:#312E81; font-size:14px;">
  <li>Passwort setzen (z.&nbsp;B. <code>admin</code>)</li>
  <li><strong>Temporary</strong> auf <code>false</code> stellen</li>
  <li>Mit <strong>Set Password</strong> bestÃ¤tigen</li>
</ul>

<h5 style="color:#6A4BBC; margin-bottom:4px;">6ï¸âƒ£ Rollen zuweisen</h5>
<p style="font-size:14px; color:#312E81;">
  Im Tab <strong>Role Mappings</strong>:
</p>

<ul style="color:#312E81; font-size:14px;">
  <li>Unter <strong>Realm Roles</strong> â†’ Rolle <code>ADMIN</code> zuweisen</li>
  <li>Unter <strong>Client Roles</strong> â†’ <code>realm-management</code> wÃ¤hlen â†’ Rolle <code>manage-users</code> zuweisen</li>
</ul>

<h5 style="color:#6A4BBC; margin-bottom:4px;">7ï¸âƒ£ Speichern &amp; prÃ¼fen</h5>
<p style="font-size:14px; color:#312E81;">
  Vergewissere dich, dass der Benutzer beide Rollen besitzt.  
  Dieses Admin-Konto wird vom <strong>Omnixys Ticket Service</strong> fÃ¼r Authentifizierung und Token-Verwaltung genutzt.
</p>

---

<p style="font-size:14px; color:#312E81;">
  âœ… Nach Abschluss dieser Schritte ist Keycloak vollstÃ¤ndig fÃ¼r die Integration mit dem Ticket Service, Camunda und anderen Omnixys-Modulen vorbereitet.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Schnell, konsistent und reproduzierbar â€“ der Omnixys-Weg zur Entwicklung und Bereitstellung.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ Nach oben
  </a>
</p>

<h3 id="running-the-server" align="center" style="color:#6A4BBC; font-weight:600;">ğŸƒ Server starten</h3>

Starte den <strong>Omnixys Ticket Service</strong> wahlweise im Entwicklungs- oder Produktionsmodus.

<h4 align="center" style="color:#6A4BBC; font-weight:600;">âš™ï¸ Kern-Infrastruktur starten</h4>

<p style="font-size:14px; color:#312E81;">
  Bevor der NestJS-Service selbst gestartet wird, muss die erforderliche <strong>Omnixys-Kern-Infrastruktur</strong>
  (PostgreSQL, Keycloak, Camunda, Kafka, Tempo und Prometheus) laufen.<br/>
  Diese Komponenten stellen die notwendigen Backend-Dienste fÃ¼r Authentifizierung, Orchestrierung, Monitoring und Ticket-Streaming bereit.
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># In das Docker-Umgebungsverzeichnis wechseln
cd .extras/docker

# Omnixys-Kern-Infrastruktur starten
docker compose -f backend.yaml up -d

# Container stoppen und entfernen
docker compose -f backend.yaml down -v
</code></pre>

<p style="font-size:14px; color:#312E81;">
  ğŸ—‚ï¸ Alle persistenten Daten (Datenbanken, Kafka-Logs usw.) werden unter
  <code>.extras/volumes</code> gespeichert.<br/>
  Durch LÃ¶schen dieses Ordners kann die gesamte Umgebung zurÃ¼ckgesetzt werden.
</p>

---

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§© Entwicklungsmodus</h4>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># NestJS im Watch-Modus starten
pnpm run start:dev</code></pre>

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ­ Produktionsmodus</h4>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># Build erstellen und Produktiv-Server starten
pnpm run build
pnpm run start:prod</code></pre>

---

<h4 align="center" style="color:#6A4BBC; font-weight:600;">ğŸ³ Docker-Setup (empfohlen fÃ¼r Tests)</h4>

<p style="font-size:14px; color:#312E81;">
  Beim vollstÃ¤ndigen Docker-Setup zuerst in das Verzeichnis <code>.extras/docker</code> wechseln.
  Die Datei <code>backend.yaml</code> definiert bereits das gemeinsame Netzwerk
  <code>omnixys-network</code>, das auch in <code>compose.yaml</code> enthalten ist.<br/>
  Daher sollte der folgende Abschnitt in <code>backend.yaml</code> <strong>auskommentiert</strong> werden:
</p>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>networks:
  omnixys-network:
    driver: bridge
</code></pre>

<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code># Aus .extras/docker heraus
docker compose up -d

# Zum Herunterfahren und Entfernen
docker compose down -v
</code></pre>

<p style="font-size:14px; color:#312E81;">
  Nach dem Start ist der GraphQL-Playground verfÃ¼gbar unter:<br/>
  ğŸ‘‰ <a href="http://localhost:7501/graphql" style="color:#6A4BBC; text-decoration:none;">http://localhost:7501/graphql</a>
</p>

---

<h4 align="center" style="color:#6A4BBC; font-weight:600;">âš™ï¸ Kafka-Host-Konfiguration</h4>

<p style="font-size:14px; color:#312E81;">
  Der <strong>beworbene Kafka-Hostname</strong> hÃ¤ngt davon ab, wo der Ticket-Service lÃ¤uft.<br/>
  Passe die Variable in <code>.extras/docker/kafka/.env</code> entsprechend an:
</p>

<h5 style="color:#6A4BBC; margin-bottom:4px;">ğŸ§  Lokale AusfÃ¼hrung (auÃŸerhalb von Docker)</h5>
<p style="font-size:14px; color:#312E81; margin-bottom:6px;">
  Wenn der Service auf dem Host-System mit <code>pnpm run start</code> oder <code>pnpm run start:dev</code> lÃ¤uft
  oder Tests Ã¼ber <code>pnpm run test</code> ausgefÃ¼hrt werden:
</p>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>KAFKA_ADVERTISED_HOST_NAME=localhost</code></pre>

<h5 style="color:#6A4BBC; margin-bottom:4px;">ğŸ³ AusfÃ¼hrung innerhalb des Docker-Netzwerks</h5>
<p style="font-size:14px; color:#312E81; margin-bottom:6px;">
  Wenn der Service mit <code>docker compose up -d</code> innerhalb des Container-Netzwerks ausgefÃ¼hrt wird:
</p>
<pre style="background-color:#F8F7FF; color:#1E1B4B; border-radius:8px; padding:10px; font-size:13px; border:1px solid #E0DEF0;"><code>KAFKA_ADVERTISED_HOST_NAME=kafka</code></pre>

<p style="font-size:14px; color:#312E81;">
  ğŸ”„ ÃœberprÃ¼fe den Wert vor dem Start des Dienstes â€” andernfalls schlÃ¤gt die Verbindung zu Kafka mit
  <code>Request timed out</code> oder <code>Connection refused</code> fehl.
</p>

---

<p style="font-size:14px; color:#312E81;">
  ğŸ§± Optional kÃ¶nnen im Ordner <code>.extras/keys</code> eine <code>certificate.crt</code> und eine <code>key.pem</code> abgelegt werden,
  um zukÃ¼nftig HTTPS-UnterstÃ¼tzung zu aktivieren.<br/>
  Die TLS-Konfiguration wird in einer spÃ¤teren Version Ã¼ber einen Traefik-basierten Reverse-Proxy integriert.
</p>

<p align="center" style="font-size:14px; color:#312E81;">
  <em>NebenlÃ¤ufige Laufzeitumgebungen â€“ lokal oder in Containern â€“ nahtlos im Einklang mit dem Omnixys-Mikroservice-Workflow.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="graphql-beispiel" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§  GraphQL Beispiel</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Beispiel einer <strong>GraphQL-Authentifizierungsanfrage</strong> mit dem 
  <strong>Omnixys Ticket Service</strong>:
</p>

```graphql
mutation Login {
  login(input: { username: "admin", password: "p" }) {
    accessToken
    refreshToken
    expiresIn
  }
}
```

<p style="font-size:14px;">
  ğŸ’¡ <strong>Hinweis:</strong> Ersetze <code>username</code> und <code>password</code> durch deine Testdaten aus der 
  <code>.env</code>-Datei.<br/>
  Alle Authentifizierungsoperationen sind Ã¼ber das zentrale <strong>Apollo-Federation-Schema</strong> verfÃ¼gbar.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Authentifiziere, autorisiere und verwalte IdentitÃ¤ten â€“ der Omnixys-Weg Ã¼ber GraphQL.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="fehlerbehebung" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ› ï¸ Fehlerbehebung</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  HÃ¤ufige Probleme und deren LÃ¶sungen beim Entwickeln oder AusfÃ¼hren des <strong>Omnixys Ticket Service</strong>.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792; text-align:left;">
    <tr>
      <th style="padding:6px 12px;">Problem</th>
      <th style="padding:6px 12px;">LÃ¶sung</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ğŸ”´ <strong>Keycloak nicht erreichbar</strong></td>
      <td>Stelle sicher, dass <code>docker compose up</code> ausgefÃ¼hrt wurde und Port <code>18080</code> nicht durch einen anderen Prozess blockiert ist.</td>
    </tr>
    <tr>
      <td>âš™ï¸ <strong><code>.env</code> wird nicht geladen</strong></td>
      <td>FÃ¼ge am Anfang von <code>env.ts</code> den Aufruf <code>import dotenv from 'dotenv'; dotenv.config();</code> hinzu.</td>
    </tr>
    <tr>
      <td>ğŸ§© <strong>Input bleibt leer {}</strong></td>
      <td>Verwende Validierungs-Decoratoren wie <code>@IsString()</code> und <code>@IsNotEmpty()</code> in deinen <code>@InputType()</code>-Definitionen.</td>
    </tr>
    <tr>
      <td>ğŸ§¹ <strong><code>.tsbuildinfo</code>-Datei entsteht wiederholt</strong></td>
      <td>Bereinige den Cache mit <code>rm -f tsconfig.build.tsbuildinfo && nest start --watch</code>.</td>
    </tr>
  </tbody>
</table>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Schnelle und konsistente Fehlerbehebung â€“ fÃ¼r einen stabilen und wartbaren Omnixys-Workflow.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="entwicklungsbefehle" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§° Entwicklungsbefehle</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  NÃ¼tzliche Befehle fÃ¼r Entwicklung, Formatierung und Tests innerhalb des 
  <strong>Omnixys Ticket Service</strong>:
</p>

```bash
# ğŸ” Linter ausfÃ¼hren (ESLint)
pnpm run lint

# ğŸ§¹ Code formatieren (Prettier)
pnpm run format

# ğŸ§ª Tests ausfÃ¼hren (Jest)
pnpm run test
```

<p style="font-size:14px;">
  ğŸ’¡ <strong>Tipp:</strong> FÃ¼hre vor jedem Commit <code>pnpm run format && pnpm run lint</code> aus, 
  um die Omnixys-Code-Standards einzuhalten.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Sauberer Code, klare Standards â€“ die Grundlage fÃ¼r alle Omnixys-Services.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="community--feedback" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ’¬ Community &amp; Feedback</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Tritt der <strong>Omnixys-Entwicklercommunity</strong> bei, um Ideen zu teilen, Fehler zu melden oder UnterstÃ¼tzung fÃ¼r den 
  <strong>Ticket Service</strong> zu erhalten.
</p>

<table align="center" style="border-collapse:collapse; font-size:14px;">
  <thead style="color:#4E3792; text-align:left;">
    <tr>
      <th style="padding:6px 12px;">Zweck</th>
      <th style="padding:6px 12px;">Teilnahme</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ğŸ’¡ <strong>Feature-Vorschlag einreichen</strong></td>
      <td><a href="https://github.com/omnixys/omnixys-ticket-service/discussions/new?category=ideas--suggestions" style="color:#6A4BBC; text-decoration:none;">Neue Funktionsdiskussion starten</a></td>
    </tr>
    <tr>
      <td>ğŸ§ª <strong>Implementierungsdetails diskutieren</strong></td>
      <td><a href="https://github.com/omnixys/omnixys-ticket-service/discussions/new?category=implementation-details" style="color:#6A4BBC; text-decoration:none;">Architektur-Thread beitreten</a></td>
    </tr>
    <tr>
      <td>â“ <strong>Fragen oder Hilfe anfordern</strong></td>
      <td><a href="https://github.com/omnixys/omnixys-ticket-service/discussions/new?category=questions--support" style="color:#6A4BBC; text-decoration:none;">Neue Frage stellen</a></td>
    </tr>
    <tr>
      <td>ğŸ§µ <strong>Allgemeines Feedback / Meta</strong></td>
      <td><a href="https://github.com/omnixys/omnixys-ticket-service/discussions/new?category=general" style="color:#6A4BBC; text-decoration:none;">Allgemeine Diskussion starten</a></td>
    </tr>
    <tr>
      <td>ğŸ› <strong>Fehler melden</strong></td>
      <td><a href="https://github.com/omnixys/omnixys-ticket-service/issues/new?template=auth_bug_report.yml" style="color:#6A4BBC; text-decoration:none;">Bug Report erstellen</a></td>
    </tr>
    <tr>
      <td>ğŸ”’ <strong>Sicherheitsproblem melden</strong></td>
      <td><a href="https://github.com/omnixys/omnixys-ticket-service/security/policy" style="color:#6A4BBC; text-decoration:none;">Sicherheitsbericht einreichen</a></td>
    </tr>
    <tr>
      <td>ğŸ†˜ <strong>Hilfe beim Setup</strong></td>
      <td><a href="https://github.com/omnixys/omnixys-ticket-service/issues/new?template=auth_support_request.yml" style="color:#6A4BBC; text-decoration:none;">Support-Vorlage verwenden</a></td>
    </tr>
  </tbody>
</table>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Gemeinsam gestalten â€“ Innovation entsteht durch Austausch und Zusammenarbeit in der Omnixys-Community.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="beitragsrichtlinien" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§­ Beitragsrichtlinien</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  Bevor du Ã„nderungen einreichst, lies bitte die folgenden Richtlinien und Standards von 
  <strong>Omnixys</strong>:
</p>

<ul>
  <li><a href="./.github/CONTRIBUTING.md" style="color:#6A4BBC; text-decoration:none;">CONTRIBUTING.md</a> â€“ Code-Style, Branching-Strategie und Pull-Request-Workflow</li>
  <li><a href="./.github/SECURITY.md" style="color:#6A4BBC; text-decoration:none;">SECURITY.md</a> â€“ Verantwortungsvolle Meldung von SicherheitslÃ¼cken</li>
  <li><a href="./.github/CODE_OF_CONDUCT.md" style="color:#6A4BBC; text-decoration:none;">CODE_OF_CONDUCT.md</a> â€“ Erwartungen an Mitwirkende und Verhaltensregeln innerhalb der Community</li>
</ul>

<p style="font-size:14px;">
  ğŸ’œ Alle BeitrÃ¤ge, RÃ¼ckmeldungen und Diskussionen sind in <strong>englischer Sprache</strong> erwÃ¼nscht,<br/>
  um eine internationale und konsistente Zusammenarbeit in allen Omnixys-Projekten zu gewÃ¤hrleisten.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Jeder Beitrag stÃ¤rkt das Omnixys-Ã–kosystem â€“ danke, dass du Modular Innovation mitgestaltest.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="mitwirken" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ¤ Mitwirken</h3>

<p align="center" style="font-size:14px; color:#312E81;">
  So kannst du aktiv zum <strong>Omnixys Ticket Service</strong> beitragen:
</p>

<ol>
  <li><strong>Repository forken</strong></li>
  <li><strong>Neuen Branch erstellen</strong>:</li>
</ol>

```bash
git checkout -b feature/mein-feature
```

<ol start="3">
  <li><strong>Ã„nderungen prÃ¼fen und committen</strong>:</li>
</ol>

```bash
pnpm run lint && git commit -m "feat: neues feature"
```

<ol start="4">
  <li><strong>Branch pushen</strong> und <strong>Pull Request erÃ¶ffnen</strong></li>
</ol>

<p style="font-size:14px;">
  ğŸ§  <strong>Tipp:</strong> Synchronisiere deinen Branch regelmÃ¤ÃŸig mit <code>main</code>, um Merge-Konflikte zu vermeiden, bevor du den Pull Request einreichst.
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Gemeinsam entwickeln, klar kommunizieren â€“ das ist der Omnixys-Standard fÃ¼r offene Zusammenarbeit.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>

<h3 id="lizenz--kontakt" align="center" style="color:#6A4BBC; font-weight:600;">ğŸ§¾ Lizenz &amp; Kontakt</h3>

<p align="center" style="font-size:14px;">
  Lizenziert unter <strong>GPL-3.0-or-later</strong><br/>
  Â© 2025 <strong>Caleb Gyamfi â€“ Omnixys Technologies</strong><br/>
  ğŸŒ <a href="https://omnixys.com" style="color:#6A4BBC; text-decoration:none;">omnixys.com</a><br/>
  ğŸ“§ <a href="mailto:contact@omnixys.tech" style="color:#6A4BBC; text-decoration:none;">contact@omnixys.tech</a>
</p>

---

<p align="center" style="font-size:14px; color:#312E81;">
  <em>Omnixys â€“ Das Fundament modularer Innovation.</em>
</p>

---

<p align="right">
  <a href="#top" style="text-decoration:none; color:#6A4BBC; font-weight:600;">
    â¬†ï¸ ZurÃ¼ck nach oben
  </a>
</p>
